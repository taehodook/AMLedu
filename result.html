<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í‰ê°€ ê²°ê³¼ â€” KASG LMS</title>
<link rel="stylesheet" href="css/main.css">
<style>
body{background:#EDE9E1;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:32px 20px}
.result-card{background:#fff;border-radius:var(--radius-lg);width:500px;max-width:100%;overflow:hidden;box-shadow:var(--shadow-lg)}
.result-hero{padding:44px 36px;text-align:center;position:relative;overflow:hidden}
.result-hero.pass{background:linear-gradient(135deg,#0C3D25 0%,#1A6640 100%)}
.result-hero.fail{background:linear-gradient(135deg,#3D0C0C 0%,#7A1A1A 100%)}
.result-hero::before{content:'';position:absolute;inset:0;background:url('assets/logo-circle.png') center/110px no-repeat;opacity:.05}
.result-icon{font-size:60px;display:block;margin-bottom:14px}
.result-title{font-family:'Noto Serif KR',serif;font-size:24px;font-weight:700;color:#fff}
.result-sub{color:rgba(255,255,255,.62);font-size:13px;margin-top:5px}
.score-section{padding:32px 36px;text-align:center;border-bottom:1px solid var(--border)}
.score-huge{font-family:'Noto Serif KR',serif;font-size:76px;font-weight:900;line-height:1}
.score-huge.pass{color:var(--success)}.score-huge.fail{color:var(--error)}
.score-lbl{font-size:12px;color:var(--text-mid);margin-top:3px}
.result-details{padding:22px 36px}
.d-row{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid rgba(0,0,0,.05);font-size:14px}
.d-row:last-child{border-bottom:none}
.d-key{color:var(--text-mid)}
.d-val{font-weight:600;color:var(--navy)}
.result-actions{padding:18px 36px 28px;display:flex;gap:10px}
</style>
</head>
<body>
<div class="result-card">
  <div class="result-hero" id="hero">
    <span class="result-icon" id="icon">ğŸ†</span>
    <div class="result-title" id="title">ê²°ê³¼</div>
    <div class="result-sub" id="sub"></div>
  </div>
  <div class="score-section">
    <div class="score-huge" id="score"></div>
    <div class="score-lbl">ìµœì¢… ì ìˆ˜ (ìˆ˜ë£Œ ê¸°ì¤€: 70ì  ì´ìƒ)</div>
  </div>
  <div class="result-details">
    <div class="d-row"><span class="d-key">ì‘ì‹œì</span><span class="d-val" id="r-name"></span></div>
    <div class="d-row"><span class="d-key">ì´ ë¬¸í•­</span><span class="d-val" id="r-total"></span></div>
    <div class="d-row"><span class="d-key">ì •ë‹µ</span><span class="d-val" id="r-correct"></span></div>
    <div class="d-row"><span class="d-key">ì˜¤ë‹µ</span><span class="d-val" id="r-wrong"></span></div>
    <div class="d-row"><span class="d-key">ì‘ì‹œ íšŸìˆ˜</span><span class="d-val" id="r-att"></span></div>
    <div class="d-row"><span class="d-key">ìˆ˜ë£Œ ì—¬ë¶€</span><span class="d-val" id="r-pass"></span></div>
  </div>
  <div class="result-actions" id="actions"></div>
</div>
<script>
const raw=sessionStorage.getItem('kasg_result'),user=JSON.parse(sessionStorage.getItem('kasg_user')||'{}');
if(!raw){window.location.href='dashboard.html';throw 0;}
const {score,passed,correct,total,attempt}=JSON.parse(raw);
document.getElementById('hero').className='result-hero '+(passed?'pass':'fail');
document.getElementById('icon').textContent=passed?'ğŸ†':'ğŸ“‹';
document.getElementById('title').textContent=passed?'êµìœ¡ ìˆ˜ë£Œ ì™„ë£Œ!':'ë¯¸ìˆ˜ë£Œ';
document.getElementById('sub').textContent=passed?`${user.name}ë‹˜, ìˆ˜ë£Œ ê¸°ì¤€ì„ ë‹¬ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. ì¶•í•˜ë“œë¦½ë‹ˆë‹¤!`
  :`ìˆ˜ë£Œ ê¸°ì¤€(70ì ) ë¯¸ë‹¬ì…ë‹ˆë‹¤.${attempt<2?' ì¬ìˆ˜ê°• í›„ ì¬ì‘ì‹œ ê°€ëŠ¥í•©ë‹ˆë‹¤.':' ì‘ì‹œ ê¸°íšŒë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.'}`;
const sc=document.getElementById('score');sc.textContent=score+'ì ';sc.className='score-huge '+(passed?'pass':'fail');
document.getElementById('r-name').textContent=`${user.name} (${user.org})`;
document.getElementById('r-total').textContent=total+'ë¬¸í•­';
document.getElementById('r-correct').textContent=correct+'ê°œ';
document.getElementById('r-wrong').textContent=(total-correct)+'ê°œ';
document.getElementById('r-att').textContent=attempt+'/2íšŒ';
document.getElementById('r-pass').innerHTML=passed?'<span style="color:var(--success);font-weight:700">âœ… ìˆ˜ë£Œ</span>':'<span style="color:var(--error);font-weight:700">âŒ ë¯¸ìˆ˜ë£Œ</span>';
const ac=document.getElementById('actions');
if(passed)ac.innerHTML=`<button class="btn btn-outline" style="flex:1" onclick="window.location.href='dashboard.html'">ëŒ€ì‹œë³´ë“œ</button><button class="btn btn-gold" style="flex:2" onclick="window.location.href='certificate.html'">ğŸ“ ìˆ˜ë£Œì¦ ë°œê¸‰</button>`;
else if(attempt<2)ac.innerHTML=`<button class="btn btn-outline" style="flex:1" onclick="window.location.href='dashboard.html'">ëŒ€ì‹œë³´ë“œ</button><button class="btn btn-primary" style="flex:2" onclick="window.location.href='player.html'">ğŸ“º ì¬ìˆ˜ê°• í›„ ì¬ì‘ì‹œ</button>`;
else ac.innerHTML=`<button class="btn btn-primary btn-block" onclick="window.location.href='dashboard.html'">ëŒ€ì‹œë³´ë“œë¡œ ì´ë™</button>`;
</script>
</body>
</html>
