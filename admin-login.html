<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>관리자 로그인 — KASG LMS</title>
<link rel="stylesheet" href="css/main.css">
<style>
body{background:linear-gradient(135deg,#050D1F 0%,#0C1F3F 65%,#0A1530 100%);min-height:100vh;display:flex;align-items:center;justify-content:center}
.al-card{background:#fff;border-radius:var(--radius-lg);width:380px;max-width:95vw;border-top:5px solid var(--kasg-red);box-shadow:0 32px 80px rgba(0,0,0,.6);overflow:hidden;animation:cardIn .4s ease}
@keyframes cardIn{from{opacity:0;transform:translateY(-18px)}to{opacity:1;transform:none}}
.al-head{background:var(--navy);padding:26px 34px;text-align:center;border-bottom:1px solid rgba(255,255,255,.07)}
.al-head img{height:38px;margin:0 auto 10px}
.al-head-title{font-family:'Noto Serif KR',serif;font-size:17px;font-weight:700;color:#fff;margin-bottom:3px}
.al-head-sub{font-size:10px;color:var(--kasg-red);letter-spacing:1.5px;text-transform:uppercase}
.al-body{padding:26px 34px 32px}
.err-box{background:#FEE2E2;color:var(--error);padding:10px 13px;border-radius:var(--radius);font-size:13px;margin-bottom:14px;border-left:3px solid var(--error);display:none}
.err-box.show{display:block}
.back-link{text-align:center;margin-top:14px;font-size:12px;color:var(--text-light);cursor:pointer}
.back-link:hover{color:var(--navy)}
</style>
</head>
<body>
<div class="al-card">
  <div class="al-head">
    <img src="assets/logo-wide.png" alt="KASG">
    <div class="al-head-title">관리자 로그인</div>
    <div class="al-head-sub">ADMINISTRATOR ACCESS</div>
  </div>
  <div class="al-body">
    <div class="err-box" id="err">관리자 비밀번호가 올바르지 않습니다.</div>
    <div class="form-group"><label class="form-label">관리자 비밀번호</label><input class="form-input" type="password" id="admin-pw" placeholder="비밀번호 입력"></div>
    <button class="btn btn-danger btn-lg btn-block" onclick="doLogin()">관리자 로그인</button>
    <div class="back-link" onclick="window.location.href='index.html'">← 수강생 로그인으로 돌아가기</div>
  </div>
</div>
<script type="module">
import { DB } from './js/firebase-config.js';
window.doLogin = async function(){
  const pw=document.getElementById('admin-pw').value;
  const stored=await DB.get('admin/password') || 'kasg2025admin';
  if(pw===stored){sessionStorage.setItem('kasg_admin',JSON.stringify({ok:true}));window.location.href='admin.html';}
  else{document.getElementById('err').classList.add('show');}
};
document.addEventListener('keydown',e=>{if(e.key==='Enter')window.doLogin();});
if(sessionStorage.getItem('kasg_admin'))window.location.href='admin.html';
</script>
</body>
</html>
